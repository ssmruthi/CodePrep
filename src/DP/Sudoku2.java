package DP;

import java.util.HashSet;
import java.util.Set;

public class Sudoku2 {

	static boolean sudokuSolve(char[][] board) {

	    for (int row = 0; row < board.length; row++){
				for (int col = 0; col < board[row].length; col++){
					if (board[row][col] == '.') {

	          for(char val='1'; val<='9' ; val++){
	            
	            if(Valid(board,val, row, col)){
	             board[row][col]=val; 
	              if(sudokuSolve(board))
	               return true;
	            }
	            board[row][col] ='.';
	          }
	          
	          return false;
	          
	    		}
				}
	    }

	     return true;
		}
	  
	  static boolean Valid(char[][] board, char val, int row, int col){
	    
	    for(int i=0;i<9;i++){
	      if(board[i][col]==val)
	        return false;
	    }
	    
	    
	    for(int i=0;i<9;i++){
	      if(board[row][i]==val)
	        return false;
	    }
	    
	    int r=(row/3)*3;
	    int c=(col/3)*3;
	    for(int i=r;i<r+3;i++){
	      for(int j=c;j<c+3;j++){
	        if(board[i][j]==val)
	          return false;
	      }
	    }
	    
	    return true;
	  }
	              
	  

	public static void main(String[] args) {
		char[][] b = { { '.', '2', '3', '4', '5', '6', '7', '8', '9' }, { '1', '.', '.', '.', '.', '.', '.', '.', '.' },
				{ '.', '.', '.', '.', '.', '.', '.', '.', '.' }, { '.', '.', '.', '.', '.', '.', '.', '.', '.' },
				{ '.', '.', '.', '.', '.', '.', '.', '.', '.' }, { '.', '.', '.', '.', '.', '.', '.', '.', '.' },
				{ '.', '.', '.', '.', '.', '.', '.', '.', '.' }, { '.', '.', '.', '.', '.', '.', '.', '.', '.' },
				{ '.', '.', '.', '.', '.', '.', '.', '.', '.' } };

		char[][] c = { { '.', '.', '.', '7', '.', '.', '3', '.', '1' }, { '3', '.', '.', '9', '.', '.', '.', '.', '.' },
				{ '.', '4', '.', '3', '1', '.', '2', '.', '.' }, { '.', '6', '.', '4', '.', '.', '5', '.', '.' },
				{ '.', '.', '.', '.', '.', '.', '.', '.', '.' }, { '.', '.', '1', '.', '.', '8', '.', '4', '.' },
				{ '.', '.', '6', '.', '2', '1', '.', '5', '.' }, { '.', '.', '.', '.', '.', '9', '.', '.', '8' },
				{ '8', '.', '5', '.', '.', '4', '.', '.', '.' } };
		
		char[][] d={{'.','.','4','.','.','.','6','3','.'}, 
				 {'.','.','.','.','.','.','.','.','.'}, 
				 {'5','.','.','.','.','.','.','9','.'}, 
				 {'.','.','.','5','6','.','.','.','.'}, 
				 {'4','.','3','.','.','.','.','.','1'}, 
				 {'.','.','.','7','.','.','.','.','.'}, 
				 {'.','.','.','5','.','.','.','.','.'}, 
				 {'.','.','.','.','.','.','.','.','.'}, 
				 {'.','.','.','.','.','.','.','.','.'}};

		System.out.println(sudokuSolve(b));

	}

}